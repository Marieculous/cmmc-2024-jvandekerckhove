---
title: "Online sellers revisited"
author: "Joachim Vandekerckhove and Michael Lee"
output:
  beamer_presentation:
    incremental: yes
header-includes:
  - \input{includes/beamerpheader.tex}
knit: (function(inputFile, encoding) {
    rmarkdown::render(inputFile, encoding = encoding, output_dir = "../pdf")
  })
bibliography: includes/cogs110B.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
```

## Revisiting Online Sellers

- We now have five online sellers, each with different numbers of positive ratings from different numbers of total evaluations
  - the additional sellers have 75 out of 100, and 1 out of 2 positive ratings

\begin{center}
\begin{tabular}{cccc}
\hline
Seller & Positive & Total & Percentage \\
\hline
One & 10 & 10 & 100\% \\
Two & 48 & 50 & 96\% \\
Three & 186 & 200 & 93\% \\
Four & 75 & 100 & 75\% \\
Five & 1 & 2 & 50\% \\
\hline
\end{tabular}
\end{center}

- The more general research question now is to model the rates with which the sellers generate positive reviews

## Independent Rate Model

- The original rate model assumed that the $k_i$ of positive ratings out of $n_i$ total evaluations for the $i$th seller are generated by an underlying probability $\theta_i$, so that

\[
k_i \sim \mathrm{binomial}\bigl(\theta_i, n_i\bigr)
\]

- The underlying rates are \emph{independent} of each other, and given the uniform prior $\theta_i\sim\mathrm{uniform}\bigl(0,1\bigr)$

## Independent Rate Model Inferences

\includegraphics[width=\textwidth, trim={0cm 0cm 0cm 0cm}, clip]{includes/onlineSellersIndependent_onlineSellers_2.eps}

## Same Rate Model

- If we were willing to assume all the sellers had the same underlying rate, there would just be a single $\theta\sim\mathrm{uniform}\bigl(0,1\bigr)$, and the individual data would be generated as

\[
k_i \sim \mathrm{binomial}\bigl(\theta, n_i\bigr)
\]

- This assumption of the same parameter value for all sellers may seem unreasonable, but
  - often cognitive modeling does assume there are no individual differences, at least for some parameters in some conditions or groups
  - historically, cognitive modeling has often \emph{aggregated data} before inferring parameters, which implicitly corresponds to assuming there are no individual differences

## Same Rate Model Inferences

\includegraphics[width=\textwidth, trim={0cm 0cm 0cm 0cm}, clip]{includes/onlineSellersAggregate_onlineSellers_2.eps}

## Hierarchical Rate Model

- The independent model is good at allowing for differences, while the same rate model tries to find commonalities
- In general, cognitive variables will have some mixture of sameness and difference, because both invariants and variation are involved in most cognitive phenomena

## Hierarchical Rate Model

- Hierarchical models allow both sameness and difference to be modeled, by assuming individual-level parameters that are connected by all being drawn from an over-arching group distribution

\[
\theta_i \sim \mathrm{Gaussian}\bigl(\mu, \sigma^2\bigr)\mathrm{T}(0,1)
\]

## Hierarchical Rate Model

- This assumption of the same parameter value for all sellers may seem unreasonable, but
  - often cognitive modeling does assume there are no individual differences, at least for some parameters in some conditions or groups
  - historically, cognitive modeling has often \emph{aggregated data} before inferring parameters, which implicitly corresponds to assuming there are no individual differences


## Hierarchical Rate Model Inferences

\includegraphics[width=\textwidth, trim={0cm 0cm 0cm 0cm}, clip]{includes/onlineSellersHierarchical_onlineSellers_2.eps}

## Exercise

Implement the hierarchical sellers model.  Who is better?

\[
\theta_i \sim \mathrm{Gaussian}\bigl(\mu, \sigma^2\bigr)\mathrm{T}(0,1)
\]
\[
k_i \sim \text{Binomial}(\theta_i, n_i)
\]

\begin{center}
\begin{tabular}{cccc}
\hline
Seller & Positive & Total & Percentage \\
\hline
One & 10 & 10 & 100\% \\
Two & 48 & 50 & 96\% \\
Three & 186 & 200 & 93\% \\
Four & 75 & 100 & 75\% \\
Five & 1 & 2 & 50\% \\
\hline
\end{tabular}
\end{center}